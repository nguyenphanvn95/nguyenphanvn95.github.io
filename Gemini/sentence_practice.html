<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luyện Viết Câu với AI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="style_sentence.css"> 
    <link rel="icon" href="icon.png">
<style>
footer {
    background: linear-gradient(to right, #2c3e50, #34495e);
    color: white;
    text-align: center;
    padding: 30px 10px;
    font-size: 1.1rem;
    border-radius: 0 0 20px 20px;
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
    margin-top: 50px;
}

footer.footer {
    background: linear-gradient(to right, #2c3e50, #34495e);
    color: white;
    padding: 30px 20px;
    border-radius: 12px;
    margin-top: 40px;
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.2);
    width: 100%;
}

.footer-content {
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}
.footer-content p {
    margin-bottom: 15px;
    font-style: italic;
    font-weight: 500;
}

.footer-links {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 30px;
    margin-top: 10px;
}

.footer-links a {
    color: #FFD700;
    text-decoration: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
}

.footer-links a:hover {
    color: #ffffff;
    transform: scale(1.05);
    text-decoration: underline;
}

.footer-links i {
    font-size: 1.2rem;
}

copyright {
    margin-top: 20px;
    font-size: 0.95rem;
    opacity: 0.8;
}
</style>
</head>
<body>
    <!-- Header -->
        <div class="container">   
 <header>

            <div class="header-content">
                <div class="logo">
                    <i class="fas fa-pen-fancy"></i>
                    <span>Luyện Viết Câu với AI</span>
                </div>
                <div class="nav-links">
                    <a href="english.html" ><i class="fas fa-pencil-alt"></i> Luyện viết</a>
                    <a href="#" class="active"><i class="fas fa-book"></i> Luyện dịch câu</a>
                    <a href="ai-generator-card.html"><i class="fas fa-folder-open"></i> Thẻ từ vựng</a>
                </div>
            </div>
    </header>

    <!-- API Key Section -->
        <button class="btn btn-outline" id="toggle-api-settings" style="margin: 1.25rem auto; display: block;">
  <i class="fas fa-cog"></i> Cài đặt Gemini API
</button>

<div class="api-key-section" id="api-key-section" style="display: none; ">
            <h2><i class="fas fa-key"></i> Cài đặt Gemini API</h2>
            <p>Nhập API Key của bạn để sử dụng Gemini AI. Nếu chưa có key, bạn có thể tạo tại 
                <a href="https://aistudio.google.com/app/apikey" target="_blank">Google AI Studio</a>.</p>
            
            <div class="api-form">
                <input type="password" id="api-key-input" placeholder="Nhập API Key của bạn...">
                <button class="btn btn-primary" id="save-api-btn">
                    <i class="fas fa-save"></i> Lưu Key
                </button>
            </div>
            <div id="api-status" style="margin-top: 10px; font-weight: 500;"></div>
        </div>

    <!-- Level & Category Section -->
<!-- Level section -->

       <div class="level-category-section">
<div class="selection-card">
            <h2 class="section-title">Chọn Mức Độ & Thể Loại</h2>
            <div class="levels">
                <div class="level-card" data-level="beginner">
                    <div class="level-icon">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <h3 class="level-title">Beginner</h3>
                    <p class="level-desc">Hoàn hảo cho người mới bắt đầu. Câu đơn giản và từ vựng cơ bản.</p>
                    <div class="level-time">1-3 phút/câu</div>
                </div>
                
                <div class="level-card" data-level="intermediate">
                    <div class="level-icon">
                        <i class="fas fa-tree"></i>
                    </div>
                    <h3 class="level-title">Intermediate</h3>
                    <p class="level-desc">Cho người học sẵn sàng với câu phức tạp hơn và từ vựng đa dạng.</p>
                    <div class="level-time">2-5 phút/câu</div>
                </div>
                
                <div class="level-card" data-level="advanced">
                    <div class="level-icon">
                        <i class="fas fa-mountain"></i>
                    </div>
                    <h3 class="level-title">Advanced</h3>
                    <p class="level-desc">Thử thách bản thân với bài kiểm tra chuyên sâu và từ vựng chuyên ngành.</p>
                    <div class="level-time">3-10 phút/câu</div>
                </div>
            </div>
      </div>  
		<div class="selection-card">    
            <h2 style="section-title">Chọn Thể Loại</h2>
            
            <div class="categories">
                <div class="category-group">
                    <h4 class="category-group-title"><i class="fas fa-user"></i> Cá nhân & Giao tiếp</h4>
                    <ul class="category-list">
                        <li class="category-item" data-category="everyday"><i class="fas fa-check-circle"></i> Công việc hàng ngày</li>
                        <li class="category-item" data-category="transportation"><i class="fas fa-bus"></i> Giao thông & Du lịch</li>
                        <li class="category-item" data-category="education"><i class="fas fa-graduation-cap"></i> Trường học & Giáo dục</li>
                    </ul>
                </div>
                
                <div class="category-group">
                    <h4 class="category-group-title"><i class="fas fa-briefcase"></i> Công việc & Kinh doanh</h4>
                    <ul class="category-list">
                        <li class="category-item" data-category="public-services"><i class="fas fa-building"></i> Dịch vụ công cộng</li>
                        <li class="category-item" data-category="health"><i class="fas fa-heartbeat"></i> Sức khỏe & Y tế</li>
                        <li class="category-item" data-category="shopping"><i class="fas fa-shopping-cart"></i> Mua sắm & Tiền bạc</li>
                    </ul>
                </div>
                
                <div class="category-group">
                    <h4 class="category-group-title"><i class="fas fa-utensils"></i> Thực phẩm & Đồ uống</h4>
                    <ul class="category-list">
                        <li class="category-item" data-category="entertainment"><i class="fas fa-film"></i> Giải trí & Thư giãn</li>
                        <li class="category-item" data-category="nature"><i class="fas fa-tree"></i> Thiên nhiên & Môi trường</li>
                        <li class="category-item" data-category="science"><i class="fas fa-flask"></i> Khoa học & Công nghệ</li>
                    </ul>
                </div>
                
                <div class="category-group">
                    <h4 class="category-group-title"><i class="fas fa-globe-asia"></i> Văn hóa & Xã hội</h4>
                    <ul class="category-list">
                        <li class="category-item" data-category="government"><i class="fas fa-landmark"></i> Chính phủ & Chính trị</li>
                        <li class="category-item" data-category="history"><i class="fas fa-book"></i> Lịch sử & Địa lý</li>
                        <li class="category-item" data-category="sports"><i class="fas fa-futbol"></i> Thể thao & Thể hình</li>
                    </ul>
                </div>
            </div>
            </div>
            <div class="start-practice-container">
                <button class="start-practice-btn" id="start-practice-btn">
                    <i class="fas fa-play-circle"></i> Bắt đầu luyện tập
                </button>
            </div>
        </div>
</div>
</div>
<!-- End Level & Category Section -->
    <!-- Main Content -->
    <div class="container hidden" id="practice-container">
        <div class="main-content">
            <!-- Practice Section -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-pencil-alt"></i> Luyện Viết Câu
                    <span id="level-indicator" style="font-size: 0.85rem; float: right; background: rgba(255,255,255,0.2); padding: 5px 15px; border-radius: 20px;"></span>
                </div>
                <div class="card-body">
                    <div class="practice-section">
                        <div class="vietnamese-text" id="vietnamese-text">
                            Chào buổi sáng, hôm nay bạn thế nào?
                        </div>
                        
                        <div class="translation-input">
                            <textarea id="sentence-input" placeholder="Viết bản dịch tiếng Anh của bạn tại đây..."></textarea>
                        </div>
                        
                        <div class="hint-toggle">
                            <button class="btn-hint" id="show-hint-btn">
                                <i class="fas fa-lightbulb"></i> Hiển thị gợi ý
                            </button>
                        </div>
                        
                        <div class="hint-content" id="hint-content">
                            <!-- Hint words will be inserted here -->
                        </div>
                        
                        <div class="action-buttons">
                            <button class="btn btn-warning" id="back-btn">
                                <i class="fas fa-arrow-left"></i> Quay lại
                            </button>
                            <button class="btn btn-outline" id="skip-btn">
                                <i class="fas fa-forward"></i> Câu tiếp
                            </button>
                            <button class="btn btn-primary" id="submit-btn">
                                <i class="fas fa-paper-plane"></i> Gửi đáp án
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Feedback Section -->
            <div class="card">
                <div class="card-header">
                    <i class="fas fa-comments"></i> Phản hồi từ AI
                </div>
                <div class="card-body">
                    <div class="feedback-section">
                        <div class="feedback-title">
                            <i class="fas fa-lightbulb"></i> Nhận xét của Gemini AI
                        </div>
                        
                        <div class="spinner" id="spinner">
                            <div class="spinner-border" role="status">
                                <span class="visually-hidden"></span> <!-- bỏ Đang xử lý -->
                            </div>
                            <p class="mt-2">AI đang phân tích câu trả lời của bạn!</p>
                        </div>
                        
                        <div class="feedback-content" id="feedback-content">
                            <div id="default-feedback">
                                <p class="text-center mb-2">Nhập câu trả lời của bạn và nhấn "Gửi đáp án" để nhận phản hồi từ Gemini AI.</p>
                                <p class="text-center">Hệ thống sẽ kiểm tra bản dịch của bạn và chỉ ra các lỗi cũng như gợi ý cải thiện.</p>
                            </div>
                            
                            <div class="summary" id="summary" style="display: none;"></div>
                            <ul class="error-list" id="errors" style="display: none;"></ul>
                            <div class="suggestion-text" id="suggestion-text" style="display: none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
<footer class ="footer">
            <div class="footer-content">
                <p>Học, học nữa, học mãi - V.I. Lenin</p>
                <div class="footer-links">
                    <a href="https://nguyenphanvn95.github.io"><i class="fas fa-home"></i> Trang chủ</a>
                    <a href="mailto:nguyenphanvn95@gmail.com"><i class="fas fa-envelope"></i> Liên hệ</a>
                    <a href="https://github.com/nguyenphanvn95"><i class="fa-brands fa-github"></i> Phan's Github</a>
                </div>
                <div class="copyright">
                    &copy; 2025 Nguyễn Văn Phán. Tất cả quyền được bảo lưu.
                </div>
            </div>
        </footer>
    </div>
<!-- Gemini Chat Bubble -->
    <div id="gemini-bubble-container">
        <div id="gemini-icon">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4C16.42 4 20 7.58 20 12C20 16.42 16.42 20 12 20Z" fill="white"/>
                <path d="M12 6C8.69 6 6 8.69 6 12C6 15.31 8.69 18 12 18C15.31 18 18 15.31 18 12C18 8.69 15.31 6 12 6ZM12 16C9.79 16 8 14.21 8 12C8 9.79 9.79 8 12 8C14.21 8 16 9.79 16 12C16 14.21 14.21 16 12 16Z" fill="white"/>
                <circle cx="12" cy="12" r="2" fill="white"/>
            </svg>
        </div>
        <div id="gemini-chat-container">
            <div class="chat-header">
                <h3>Gemini AI Assistant</h3>
                <div class="header-controls">
                    <button class="settings-btn"><i class="fas fa-cog"></i></button>
                    <button class="close-btn">×</button>
                </div>
            </div>
            <div class="chat-body">
                <div class="message bot-message">
                    <div class="bot-message-content">
                        <p>Xin chào! Tôi là trợ lý Gemini AI.</p>
                        <p>Để bắt đầu:</p>
                        <ol>
                            <li>Nhấn biểu tượng <i class="fas fa-cog"></i> để mở cài đặt</li>
                            <li>Nhập API Key Gemini của bạn</li>
                            <li>Nhấn "Lưu" và bắt đầu trò chuyện</li>
                        </ol>
                        <p>Bạn có thể hỏi tôi bất kỳ điều gì!</p>
                    </div>
                </div>
            </div>
            <div class="api-settings">
                <div class="api-input">
                    <input type="password" id="api-key-input" placeholder="Nhập API Key Gemini">
                    <button id="save-api-key">Lưu</button>
                </div>
                <div class="api-status" id="api-status">
                    <i class="fas fa-info-circle"></i> <span>API Key chưa được cài đặt</span>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="user-input" placeholder="Nhập câu hỏi...">
                <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
   <!-- End Gemini Chat Bubble -->
<script src="../assistant.js"></script>
   <script src="sentence_practice.js"></script>
</body>
</html>